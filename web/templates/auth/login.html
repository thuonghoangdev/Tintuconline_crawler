{% extends "base.html" %}
{% block title %}Đăng nhập · TIN TỨC{% endblock %}

{# TẮT thanh tabs cho trang login #}
{% block nav %}{% endblock %}

{% block content %}
<section class="auth">
  <div class="auth-card">
    <div class="brand">TIN TỨC</div>
    <h1 class="title">Chào mừng trở lại</h1>
    <p class="subtitle muted">Đăng nhập để tiếp tục</p>

    <form method="post" action="{% url 'login' %}">
      {% csrf_token %}
      <div class="field">
        <label class="label" for="id_username">Email hoặc Username</label>
        <input class="input" id="id_username" name="username" type="text" required />
      </div>

      <div class="field">
        <label class="label" for="id_password">Mật khẩu</label>
        <div class="input-wrap">
          <input class="input" id="id_password" name="password" type="password" required />
          <span class="icon" onclick="
            const p=document.getElementById('id_password');
            p.type=(p.type==='password'?'text':'password')
          ">👁️</span>
        </div>
      </div>

      {% if form and form.errors %}
        <p class="error">Thông tin đăng nhập chưa đúng. Vui lòng thử lại.</p>
      {% endif %}

      <button class="btn-accent" type="submit">Đăng nhập</button>

      <p class="muted" style="margin-top:12px">
        Chưa có tài khoản?
        <a class="link" href="{% url 'register' %}">Đăng ký ngay</a>
      </p>
    </form>
  </div>
</section>

<style>
  .auth .input-wrap{ position:relative; }
  .auth .input-wrap .icon{
    position:absolute; right:12px; top:50%; transform:translateY(-50%);
    width:22px; height:22px; display:grid; place-items:center;
    cursor:pointer; opacity:.7;
  }
  .auth .input-wrap .icon:hover{ opacity:1; }
  .auth .btn-accent:hover{
    background:#0b78d1; transform:translateY(-1px);
    box-shadow:0 4px 12px rgba(11,120,209,0.35);
  }
  .auth .btn-accent:active{ background:#075a9c; transform:translateY(0); }
</style>
{% endblock %}
